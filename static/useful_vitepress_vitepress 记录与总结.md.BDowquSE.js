import{_ as s,l as i,k as a,ae as n}from"./chunks/framework.BFFW23Ds.js";const E=JSON.parse('{"title":"vitepress 记录与总结","description":"","frontmatter":{"label":["vitepress","vite"]},"headers":[{"level":2,"title":"包含 Markdown 文件","slug":"包含-markdown-文件","link":"#包含-markdown-文件","children":[]},{"level":2,"title":"使用“注释高亮方法”高亮代码块的多行","slug":"使用-注释高亮方法-高亮代码块的多行","link":"#使用-注释高亮方法-高亮代码块的多行","children":[]},{"level":2,"title":"vitepress 插件","slug":"vitepress-插件","link":"#vitepress-插件","children":[]},{"level":2,"title":"只引入文件的部分代码片段","slug":"只引入文件的部分代码片段","link":"#只引入文件的部分代码片段","children":[]},{"level":2,"title":"怎么隐藏 vitepress 的导航栏？","slug":"怎么隐藏-vitepress-的导航栏","link":"#怎么隐藏-vitepress-的导航栏","children":[]},{"level":2,"title":"修改 home 布局下的文字颜色","slug":"修改-home-布局下的文字颜色","link":"#修改-home-布局下的文字颜色","children":[]},{"level":2,"title":"注册全局组件","slug":"注册全局组件","link":"#注册全局组件","children":[]},{"level":2,"title":"修改代码块颜色","slug":"修改代码块颜色","link":"#修改代码块颜色","children":[]}],"relativePath":"useful/vitepress/vitepress 记录与总结.md","filePath":"useful/vitepress/vitepress 记录与总结.md","lastUpdated":1718171398000}'),e={name:"useful/vitepress/vitepress 记录与总结.md"},p=n(`<h1 id="vitepress-记录与总结" tabindex="-1">vitepress 记录与总结 <a class="header-anchor" href="#vitepress-记录与总结" aria-label="Permalink to &quot;vitepress 记录与总结&quot;">​</a></h1><h2 id="包含-markdown-文件" tabindex="-1">包含 Markdown 文件 <a class="header-anchor" href="#包含-markdown-文件" aria-label="Permalink to &quot;包含 Markdown 文件&quot;">​</a></h2><p>你可以使用 <code>&lt;!--@include: ./xxx.md--&gt;</code> 语法使一个 markdown 文件中包含另一个 markdown 文件：</p><div class="language-md vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!--@include: ./parts/basics.md--&gt;</span></span></code></pre></div><p>支持选择行范围：</p><div class="language-md vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!--@include: ./parts/basics.md{3,}--&gt;</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">注意</p><p><code>{}</code> 内不要有空格。</p></div><h2 id="使用-注释高亮方法-高亮代码块的多行" tabindex="-1">使用“注释高亮方法”高亮代码块的多行 <a class="header-anchor" href="#使用-注释高亮方法-高亮代码块的多行" aria-label="Permalink to &quot;使用“注释高亮方法”高亮代码块的多行&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// [!code hl:&lt;行数&gt;]</span></span></code></pre></div><h2 id="vitepress-插件" tabindex="-1">vitepress 插件 <a class="header-anchor" href="#vitepress-插件" aria-label="Permalink to &quot;vitepress 插件&quot;">​</a></h2><ul><li><a href="https://vitepress-plugins.sapphi.red/tabs/" target="_blank" rel="noreferrer">https://vitepress-plugins.sapphi.red/tabs/</a></li></ul><h2 id="只引入文件的部分代码片段" tabindex="-1">只引入文件的部分代码片段 <a class="header-anchor" href="#只引入文件的部分代码片段" aria-label="Permalink to &quot;只引入文件的部分代码片段&quot;">​</a></h2><p>使用 <a href="https://code.visualstudio.com/docs/editor/codebasics#_folding" target="_blank" rel="noreferrer">VS Code region</a> 来仅包含被导入代码文件的相应部分。你可以在文件路径后面加上一个 # 跟着那个自定义的 region 名。</p><p>输入</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;&lt;&lt; @/filepath.js#any</span></span></code></pre></div><p>被引入文件</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// #region any</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ..</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// #endregion any</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> foo</span></span></code></pre></div><h2 id="怎么隐藏-vitepress-的导航栏" tabindex="-1">怎么隐藏 vitepress 的导航栏？ <a class="header-anchor" href="#怎么隐藏-vitepress-的导航栏" aria-label="Permalink to &quot;怎么隐藏 vitepress 的导航栏？&quot;">​</a></h2><p>我有这样一个需求：文档的侧边栏、目录栏、导航栏都隐藏，让用户更沉浸式的阅读内容，如下图所示：</p><p><img src="https://my-course-public.oss-cn-shanghai.aliyuncs.com/public/img/2023-07-01-07-30-25.png" alt="" loading="lazy"></p><p>变成这样：</p><p><img src="https://my-course-public.oss-cn-shanghai.aliyuncs.com/public/img/2023-07-01-07-32-09.png" alt="" loading="lazy"></p><p>怎么实现呢？可以通过 frontmatter 来自定义某些区域的显示。但是通过 frontmatter 只能让 侧边栏、目录栏隐藏，不能让导航栏隐藏。所以我们只能自己修改源码，多增加一个 frontmatter 属性来配置导航栏的显示与隐藏。</p><div class="language-md vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;--shiki-light-font-weight:bold;--shiki-dark-font-weight:bold;">  ---</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  layout: doc</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sidebar: false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  navbar: false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  aside: false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ---</span></span></code></pre></div><p>修改源码：</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">VPNav</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;frontmatter.navbar !== false&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><img src="https://my-course-public.oss-cn-shanghai.aliyuncs.com/public/img/2023-05-19-12-30-09.png" alt="" loading="lazy"></p><p>我还提了个 <a href="https://github.com/vuejs/vitepress/pull/2565" target="_blank" rel="noreferrer">pr</a> 。</p><h2 id="修改-home-布局下的文字颜色" tabindex="-1">修改 home 布局下的文字颜色 <a class="header-anchor" href="#修改-home-布局下的文字颜色" aria-label="Permalink to &quot;修改 home 布局下的文字颜色&quot;">​</a></h2><p>使用 vitepress 的默认主题，Layout 布局有三种：page、home、doc。</p><p>page 什么样式都没有，home 拥有更多的 frontmatter 配置选项，doc 使用 vitepress 的样式。</p><p>如果什么都不设置，默认布局为 doc。</p><p>这里学习一下 Layout 为 home 时，该如何配置 frontmatter。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>---</span></span>
<span class="line"><span># 默认布局</span></span>
<span class="line"><span># layout: doc</span></span>
<span class="line"><span># layout: page</span></span>
<span class="line"><span>layout: home</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 当 layout 设置为 home，下面这些配置会生效。</span></span>
<span class="line"><span>hero:</span></span>
<span class="line"><span>  name: my course # 标题</span></span>
<span class="line"><span>  text: vitepress 是一个静态站点生成器 # 标题描述</span></span>
<span class="line"><span>  tagline: 12345654341253134 # 标语</span></span>
<span class="line"><span>  image:</span></span>
<span class="line"><span>    src: /Gold.png</span></span>
<span class="line"><span>    alt: VitePress</span></span>
<span class="line"><span>  actions:</span></span>
<span class="line"><span>    - theme: brand</span></span>
<span class="line"><span>      text: 开始</span></span>
<span class="line"><span>      link: /guide/what-is-vitepress</span></span>
<span class="line"><span>    - theme: alt</span></span>
<span class="line"><span>      text: 查看 github</span></span>
<span class="line"><span>      link: https://github.com/vuejs/vitepress</span></span>
<span class="line"><span>---</span></span></code></pre></div><p>那么我想修改 home 布局下的文字颜色，该怎么做呢？</p><p><strong>可以先通过控制台查看要修改的文字颜色，值一般都是一个 css 变量。</strong></p><p><strong>或则查看源码。</strong></p><p>在 <code>src\\client\\theme-default\\components\\VPHero.vue</code> 中查看：</p><p>然后，创建一个 style.css 文件，覆盖 css 变量。</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /* 标题 */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  --vp-home-hero-name-color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">transparent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  --vp-home-hero-name-background</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">linear-gradient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">120</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">deg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#f6d365</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#fda085</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /* 图标背景 */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  --vp-home-hero-image-background-image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">linear-gradient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">( </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">135</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">deg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#FFA8A8</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#FCFF00</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  --vp-home-hero-image-filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">blur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">150</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>然后在 <code>.vitepress/theme/index.js</code> 文件中引入该 css 文件。</p><h2 id="注册全局组件" tabindex="-1">注册全局组件 <a class="header-anchor" href="#注册全局组件" aria-label="Permalink to &quot;注册全局组件&quot;">​</a></h2><p>.vitepress/theme/index.js</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark has-focused-lines vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Theme, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Layout NotFound enhanceApp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  enhanceApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // extend default theme custom behaviour.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Theme.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">enhanceApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ctx)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // register your custom global components</span></span>
<span class="line has-focus"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ctx.app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;MyGlobalComponent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Comp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="修改代码块颜色" tabindex="-1">修改代码块颜色 <a class="header-anchor" href="#修改代码块颜色" aria-label="Permalink to &quot;修改代码块颜色&quot;">​</a></h2><p>可修改的主题可在<a href="https://github.com/shikijs/shiki/blob/main/docs/themes.md#all-themes" target="_blank" rel="noreferrer">这里</a>查看。</p><p>在<a href="https://vscodethemes.com/" target="_blank" rel="noreferrer">这里</a>在线预览。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  markdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    theme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      light</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vitesse-light&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 浅色主题使用这种代码块</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      dark</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vitesse-dark&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 暗色主题使用这种代码块</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // theme: &#39;nord&#39;, // markdown 代码块主题。我觉得原本的比较好看，所以没有设置。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span></code></pre></div><p>或者，覆盖 css 变量：</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* 代码块背景色 */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  --vp-code-block-bg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rgba</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">125</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">125</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">125</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.04</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,50),t=[p];function l(h,k,r,d,o,c){return a(),i("div",null,t)}const y=s(e,[["render",l]]);export{E as __pageData,y as default};
