import{_ as s,l as i,k as a,ae as l}from"./chunks/framework.BFFW23Ds.js";const y=JSON.parse('{"title":"threejs 学习","description":"","frontmatter":{"label":"threejs"},"headers":[{"level":2,"title":"启动项目","slug":"启动项目","link":"#启动项目","children":[]},{"level":2,"title":"资源","slug":"资源","link":"#资源","children":[]},{"level":2,"title":"three 与 vue 对接","slug":"three-与-vue-对接","link":"#three-与-vue-对接","children":[]},{"level":2,"title":"渲染一个立方体","slug":"渲染一个立方体","link":"#渲染一个立方体","children":[]},{"level":2,"title":"渲染一个有颜色的立方体","slug":"渲染一个有颜色的立方体","link":"#渲染一个有颜色的立方体","children":[]},{"level":2,"title":"增加场景辅助","slug":"增加场景辅助","link":"#增加场景辅助","children":[]},{"level":2,"title":"让场景动起来","slug":"让场景动起来","link":"#让场景动起来","children":[]},{"level":2,"title":"添加性能监视器","slug":"添加性能监视器","link":"#添加性能监视器","children":[]},{"level":2,"title":"添加轨道控制器","slug":"添加轨道控制器","link":"#添加轨道控制器","children":[]},{"level":2,"title":"添加抗锯齿处理","slug":"添加抗锯齿处理","link":"#添加抗锯齿处理","children":[]},{"level":2,"title":"丰富场景物体，进行项目模块切分","slug":"丰富场景物体-进行项目模块切分","link":"#丰富场景物体-进行项目模块切分","children":[]},{"level":2,"title":"添加点光源，让物体更真实","slug":"添加点光源-让物体更真实","link":"#添加点光源-让物体更真实","children":[]},{"level":2,"title":"添加光源辅助，可视化光源调适","slug":"添加光源辅助-可视化光源调适","link":"#添加光源辅助-可视化光源调适","children":[]},{"level":2,"title":"让物体产生阴影","slug":"让物体产生阴影","link":"#让物体产生阴影","children":[]},{"level":2,"title":"感受一下 pbr 材质","slug":"感受一下-pbr-材质","link":"#感受一下-pbr-材质","children":[]},{"level":2,"title":"加载外部贴图","slug":"加载外部贴图","link":"#加载外部贴图","children":[]},{"level":2,"title":"添加物体变换控制器","slug":"添加物体变换控制器","link":"#添加物体变换控制器","children":[]},{"level":2,"title":"物体拾取与射线生成器","slug":"物体拾取与射线生成器","link":"#物体拾取与射线生成器","children":[]},{"level":2,"title":"解决物体变换的 bug","slug":"解决物体变换的-bug","link":"#解决物体变换的-bug","children":[]},{"level":2,"title":"避免选择到变换控制器","slug":"避免选择到变换控制器","link":"#避免选择到变换控制器","children":[]},{"level":2,"title":"不要选择到辅助轴","slug":"不要选择到辅助轴","link":"#不要选择到辅助轴","children":[]},{"level":2,"title":"改变变换控制器模式","slug":"改变变换控制器模式","link":"#改变变换控制器模式","children":[]},{"level":2,"title":"增加物体自定义事件","slug":"增加物体自定义事件","link":"#增加物体自定义事件","children":[]}],"relativePath":"useful/threejs/threejs0.md","filePath":"useful/threejs/threejs0.md","lastUpdated":1709816942000}'),n={name:"useful/threejs/threejs0.md"},h=l(`<h1 id="threejs-学习" tabindex="-1">threejs 学习 <a class="header-anchor" href="#threejs-学习" aria-label="Permalink to &quot;threejs 学习&quot;">​</a></h1><p>曦月风尘老师</p><p>gitee 地址：</p><p>shiotsukikaedesari.gitee.io</p><h2 id="启动项目" tabindex="-1">启动项目 <a class="header-anchor" href="#启动项目" aria-label="Permalink to &quot;启动项目&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1 , 注意选择vue-ts</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite@latest</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2 </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> three</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @types/three</span></span></code></pre></div><h2 id="资源" tabindex="-1">资源 <a class="header-anchor" href="#资源" aria-label="Permalink to &quot;资源&quot;">​</a></h2><p>官方文档[<a href="https://threejs.org/docs/index.html" target="_blank" rel="noreferrer">https://threejs.org/docs/index.html</a>]</p><h2 id="three-与-vue-对接" tabindex="-1">three 与 vue 对接 <a class="header-anchor" href="#three-与-vue-对接" aria-label="Permalink to &quot;three 与 vue 对接&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {WebGLRenderer} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;three&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TEngine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> dom</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HTMLElement</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> renderer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">WebGLRenderer</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">dom</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HTMLElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.dom </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dom</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.renderer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WebGLRenderer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        dom.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.renderer.domElement)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ，设为 true 允许改变 canvas 画面</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.renderer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dom.offsetWidth,dom.offsetHeight,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>app.vue</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {TEngine} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./assets/ts/TEngine.ts&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {ref,onMounted} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> threeTarget</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onMounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TEngine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(threeTarget.value)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;three-canvas&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;threeTarget&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.three-canvas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">#app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="渲染一个立方体" tabindex="-1">渲染一个立方体 <a class="header-anchor" href="#渲染一个立方体" aria-label="Permalink to &quot;渲染一个立方体&quot;">​</a></h2><h2 id="渲染一个有颜色的立方体" tabindex="-1">渲染一个有颜色的立方体 <a class="header-anchor" href="#渲染一个有颜色的立方体" aria-label="Permalink to &quot;渲染一个有颜色的立方体&quot;">​</a></h2><h2 id="增加场景辅助" tabindex="-1">增加场景辅助 <a class="header-anchor" href="#增加场景辅助" aria-label="Permalink to &quot;增加场景辅助&quot;">​</a></h2><h2 id="让场景动起来" tabindex="-1">让场景动起来 <a class="header-anchor" href="#让场景动起来" aria-label="Permalink to &quot;让场景动起来&quot;">​</a></h2><h2 id="添加性能监视器" tabindex="-1">添加性能监视器 <a class="header-anchor" href="#添加性能监视器" aria-label="Permalink to &quot;添加性能监视器&quot;">​</a></h2><h2 id="添加轨道控制器" tabindex="-1">添加轨道控制器 <a class="header-anchor" href="#添加轨道控制器" aria-label="Permalink to &quot;添加轨道控制器&quot;">​</a></h2><h2 id="添加抗锯齿处理" tabindex="-1">添加抗锯齿处理 <a class="header-anchor" href="#添加抗锯齿处理" aria-label="Permalink to &quot;添加抗锯齿处理&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.renderer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WebGLRenderer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            antialias: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span></code></pre></div><h2 id="丰富场景物体-进行项目模块切分" tabindex="-1">丰富场景物体，进行项目模块切分 <a class="header-anchor" href="#丰富场景物体-进行项目模块切分" aria-label="Permalink to &quot;丰富场景物体，进行项目模块切分&quot;">​</a></h2><h2 id="添加点光源-让物体更真实" tabindex="-1">添加点光源，让物体更真实 <a class="header-anchor" href="#添加点光源-让物体更真实" aria-label="Permalink to &quot;添加点光源，让物体更真实&quot;">​</a></h2><h2 id="添加光源辅助-可视化光源调适" tabindex="-1">添加光源辅助，可视化光源调适 <a class="header-anchor" href="#添加光源辅助-可视化光源调适" aria-label="Permalink to &quot;添加光源辅助，可视化光源调适&quot;">​</a></h2><h2 id="让物体产生阴影" tabindex="-1">让物体产生阴影 <a class="header-anchor" href="#让物体产生阴影" aria-label="Permalink to &quot;让物体产生阴影&quot;">​</a></h2><h2 id="感受一下-pbr-材质" tabindex="-1">感受一下 pbr 材质 <a class="header-anchor" href="#感受一下-pbr-材质" aria-label="Permalink to &quot;感受一下 pbr 材质&quot;">​</a></h2><h2 id="加载外部贴图" tabindex="-1">加载外部贴图 <a class="header-anchor" href="#加载外部贴图" aria-label="Permalink to &quot;加载外部贴图&quot;">​</a></h2><h2 id="添加物体变换控制器" tabindex="-1">添加物体变换控制器 <a class="header-anchor" href="#添加物体变换控制器" aria-label="Permalink to &quot;添加物体变换控制器&quot;">​</a></h2><h2 id="物体拾取与射线生成器" tabindex="-1">物体拾取与射线生成器 <a class="header-anchor" href="#物体拾取与射线生成器" aria-label="Permalink to &quot;物体拾取与射线生成器&quot;">​</a></h2><h2 id="解决物体变换的-bug" tabindex="-1">解决物体变换的 bug <a class="header-anchor" href="#解决物体变换的-bug" aria-label="Permalink to &quot;解决物体变换的 bug&quot;">​</a></h2><p>当用物体变换控器控制物体后，再次点击变换控制器操作会失效。</p><p>原因是 mouseDown，mouseUp，click 的区别（执行先后顺序）。</p><p>我们是监听的 click 事件来拾取物体。当操作变换控制器松手时会触发 click，把变换控制器本身给选择到了，变换的就不是原来的物体。</p><h2 id="避免选择到变换控制器" tabindex="-1">避免选择到变换控制器 <a class="header-anchor" href="#避免选择到变换控制器" aria-label="Permalink to &quot;避免选择到变换控制器&quot;">​</a></h2><h2 id="不要选择到辅助轴" tabindex="-1">不要选择到辅助轴 <a class="header-anchor" href="#不要选择到辅助轴" aria-label="Permalink to &quot;不要选择到辅助轴&quot;">​</a></h2><p>有个虚拟方法，可以将其指控，射线就不会选择到了</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">axesHelper.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">raycast</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// fasle。是否只选择第一层物体</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> intersection</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> raycaster.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">intersectObjects</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.scene.children,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h2 id="改变变换控制器模式" tabindex="-1">改变变换控制器模式 <a class="header-anchor" href="#改变变换控制器模式" aria-label="Permalink to &quot;改变变换控制器模式&quot;">​</a></h2><p>监听键盘事件，改变它的模式。</p><h2 id="增加物体自定义事件" tabindex="-1">增加物体自定义事件 <a class="header-anchor" href="#增加物体自定义事件" aria-label="Permalink to &quot;增加物体自定义事件&quot;">​</a></h2><p>dispatch 自定义派发事件</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wall.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mouseenter&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (wall.material </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MeshStandardMaterial</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;red&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wall.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mouseleave&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (wall.material </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MeshStandardMaterial</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;white&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// =============</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cacheObject.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dispatchEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mouseleave&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div>`,41),e=[h];function t(k,p,r,d,E,g){return a(),i("div",null,e)}const o=s(n,[["render",t]]);export{y as __pageData,o as default};
