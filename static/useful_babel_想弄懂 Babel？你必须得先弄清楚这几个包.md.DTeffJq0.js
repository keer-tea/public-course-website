import{_ as s,l as i,k as a,ae as n}from"./chunks/framework.BFFW23Ds.js";const c=JSON.parse('{"title":"æƒ³å¼„æ‡‚ Babelï¼Ÿä½ å¿…é¡»å¾—å…ˆå¼„æ¸…æ¥šè¿™å‡ ä¸ªåŒ…","description":"","frontmatter":{"label":"babel"},"headers":[{"level":2,"title":"babel æœ€å¸¸ç”¨çš„é…ç½®é¡¹","slug":"babel-æœ€å¸¸ç”¨çš„é…ç½®é¡¹","link":"#babel-æœ€å¸¸ç”¨çš„é…ç½®é¡¹","children":[]},{"level":2,"title":"@babel/preset-env","slug":"babel-preset-env","link":"#babel-preset-env","children":[{"level":3,"title":"preset","slug":"preset","link":"#preset","children":[]},{"level":3,"title":"env","slug":"env","link":"#env","children":[]}]},{"level":2,"title":"ææ¡ˆ","slug":"ææ¡ˆ","link":"#ææ¡ˆ","children":[{"level":3,"title":"do-expressions","slug":"do-expressions","link":"#do-expressions","children":[]}]},{"level":2,"title":"æŸ¥çœ‹é¢„è®¾æœ‰å“ªäº›æ’ä»¶","slug":"æŸ¥çœ‹é¢„è®¾æœ‰å“ªäº›æ’ä»¶","link":"#æŸ¥çœ‹é¢„è®¾æœ‰å“ªäº›æ’ä»¶","children":[]},{"level":2,"title":"polyfill å«ç‰‡","slug":"polyfill-å«ç‰‡","link":"#polyfill-å«ç‰‡","children":[{"level":3,"title":"åŠŸèƒ½","slug":"åŠŸèƒ½","link":"#åŠŸèƒ½","children":[]},{"level":3,"title":"ç†è§£","slug":"ç†è§£","link":"#ç†è§£","children":[]}]},{"level":2,"title":"@babel/polyfill","slug":"babel-polyfill","link":"#babel-polyfill","children":[]},{"level":2,"title":"core-js@2 ä½œç”¨","slug":"core-js-2-ä½œç”¨","link":"#core-js-2-ä½œç”¨","children":[]},{"level":2,"title":"regenerator-runtime","slug":"regenerator-runtime","link":"#regenerator-runtime","children":[]},{"level":2,"title":"core-js","slug":"core-js","link":"#core-js","children":[{"level":3,"title":"ä¸¤ä¸ªåŒ…çš„ç‰ˆæœ¬éƒ½å°äº 7.18.0","slug":"ä¸¤ä¸ªåŒ…çš„ç‰ˆæœ¬éƒ½å°äº-7-18-0","link":"#ä¸¤ä¸ªåŒ…çš„ç‰ˆæœ¬éƒ½å°äº-7-18-0","children":[]},{"level":3,"title":"@babel/core ç‰ˆæœ¬å°äº 7.18.0ï¼Œ@babel/plugin-transform-regenerator ç‰ˆæœ¬å¤§äº 7.18.0","slug":"babel-core-ç‰ˆæœ¬å°äº-7-18-0-babel-plugin-transform-regenerator-ç‰ˆæœ¬å¤§äº-7-18-0","link":"#babel-core-ç‰ˆæœ¬å°äº-7-18-0-babel-plugin-transform-regenerator-ç‰ˆæœ¬å¤§äº-7-18-0","children":[]},{"level":3,"title":"@babel/core ç‰ˆæœ¬å¤§äº 7.18.0ï¼Œ@babel/plugin-transform-regenerator ç‰ˆæœ¬å°äº 7.18.0","slug":"babel-core-ç‰ˆæœ¬å¤§äº-7-18-0-babel-plugin-transform-regenerator-ç‰ˆæœ¬å°äº-7-18-0","link":"#babel-core-ç‰ˆæœ¬å¤§äº-7-18-0-babel-plugin-transform-regenerator-ç‰ˆæœ¬å°äº-7-18-0","children":[]},{"level":3,"title":"æ€»ç»“","slug":"æ€»ç»“","link":"#æ€»ç»“","children":[]}]},{"level":2,"title":"@babel/runtime","slug":"babel-runtime","link":"#babel-runtime","children":[]},{"level":2,"title":"@babel/plugin-transform-runtime","slug":"babel-plugin-transform-runtime","link":"#babel-plugin-transform-runtime","children":[]}],"relativePath":"useful/babel/æƒ³å¼„æ‡‚ Babelï¼Ÿä½ å¿…é¡»å¾—å…ˆå¼„æ¸…æ¥šè¿™å‡ ä¸ªåŒ….md","filePath":"useful/babel/æƒ³å¼„æ‡‚ Babelï¼Ÿä½ å¿…é¡»å¾—å…ˆå¼„æ¸…æ¥šè¿™å‡ ä¸ªåŒ….md","lastUpdated":1709816942000}'),l={name:"useful/babel/æƒ³å¼„æ‡‚ Babelï¼Ÿä½ å¿…é¡»å¾—å…ˆå¼„æ¸…æ¥šè¿™å‡ ä¸ªåŒ….md"},e=n(`<h1 id="æƒ³å¼„æ‡‚-babel-ä½ å¿…é¡»å¾—å…ˆå¼„æ¸…æ¥šè¿™å‡ ä¸ªåŒ…" tabindex="-1">æƒ³å¼„æ‡‚ Babelï¼Ÿä½ å¿…é¡»å¾—å…ˆå¼„æ¸…æ¥šè¿™å‡ ä¸ªåŒ… <a class="header-anchor" href="#æƒ³å¼„æ‡‚-babel-ä½ å¿…é¡»å¾—å…ˆå¼„æ¸…æ¥šè¿™å‡ ä¸ªåŒ…" aria-label="Permalink to &quot;æƒ³å¼„æ‡‚ Babelï¼Ÿä½ å¿…é¡»å¾—å…ˆå¼„æ¸…æ¥šè¿™å‡ ä¸ªåŒ…&quot;">â€‹</a></h1><p><a href="https://github.com/babel/babel/blob/main/packages/babel-core/package.json" target="_blank" rel="noreferrer"><img src="https://img.shields.io/github/package-json/v/babel/babel?filename=packages%2Fbabel-core%2Fpackage.json&amp;label=%40babel%2Fcore" alt="GitHub package.json version (subfolder of monorepo)" loading="lazy"></a></p><p><a href="https://github.com/babel/babel/blob/main/packages/babel-preset-env/package.json" target="_blank" rel="noreferrer"><img src="https://img.shields.io/github/package-json/v/babel/babel?filename=packages%2Fbabel-preset-env%2Fpackage.json&amp;label=%40babel%2Fbabel-preset-env" alt="GitHub package.json version (subfolder of monorepo)" loading="lazy"></a></p><h2 id="babel-æœ€å¸¸ç”¨çš„é…ç½®é¡¹" tabindex="-1">babel æœ€å¸¸ç”¨çš„é…ç½®é¡¹ <a class="header-anchor" href="#babel-æœ€å¸¸ç”¨çš„é…ç½®é¡¹" aria-label="Permalink to &quot;babel æœ€å¸¸ç”¨çš„é…ç½®é¡¹&quot;">â€‹</a></h2><p>ä»¥ babel.config.js ä¸ºä¾‹ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æœ€å¸¸ç”¨çš„ä¸¤ä¸ª</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  presets: []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="babel-preset-env" tabindex="-1">@babel/preset-env <a class="header-anchor" href="#babel-preset-env" aria-label="Permalink to &quot;@babel/preset-env&quot;">â€‹</a></h2><p>@babel/preset-env å¯ä»¥åˆ†æˆä¸¤éƒ¨åˆ†æ¥ç†è§£ï¼Œpreset å’Œ envã€‚preset çš„ä½œç”¨æ˜¯å°† ES6+ è¯­æ³•ç¼–è¯‘ä¸º ES5 è¯­æ³•ã€‚env çš„ä½œç”¨æ˜¯æ ¹æ®ç”¨æˆ·è®¾ç½®çš„ç›®æ ‡ç¯å¢ƒï¼Œæä¾›ç›®æ ‡ç¯å¢ƒç¼ºå¤±çš„åŠŸèƒ½ç‰¹æ€§ã€‚</p><p>env ä½œç”¨é»˜è®¤æ˜¯å…³é—­çš„ï¼Œéœ€è¦é…ç½®å‚æ•° usage æ¥æ‰“å¼€ã€‚</p><h3 id="preset" tabindex="-1">preset <a class="header-anchor" href="#preset" aria-label="Permalink to &quot;preset&quot;">â€‹</a></h3><p>ä¸‹é¢ä¸¾ä¸€ä¸ª @babel/preset-env å°† ES6+ è¯­æ³•ç¼–è¯‘ä¸º ES5 è¯­æ³•çš„ä¾‹å­ã€‚è¿™ä¸ªä¾‹å­å¯ä»¥è®©ä½ æ„Ÿå—åˆ°ä½¿ç”¨é¢„è®¾çš„æ–¹ä¾¿ã€‚</p><p>æ¶‰åŠåˆ°çš„ä¾èµ–åŒ…åªæœ‰ä¸‰ä¸ªã€‚</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;devDependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // babel å‘½ä»¤è¡Œå·¥å…·</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/cli&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^7.21.5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // babel æ ¸å¿ƒåŒ…</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/core&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^7.22.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // babel é¢„è®¾ï¼ˆä¸€ç³»åˆ—æ’ä»¶çš„é›†åˆï¼‰</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/preset-env&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^7.22.4&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªæ–‡ä»¶ï¼Œä½¿ç”¨äº†å¾ˆå¤š ES6+ è¯­æ³•ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ const</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> people</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xiaowang&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xiaojun&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xiaoming&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> obj</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å±æ€§ç®€æ´è¡¨ç¤ºæ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  people,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  like: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;eat1111&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç®­å¤´å‡½æ•°ï¼Œå‚æ•°é»˜è®¤å€¼ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  play</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">sport</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ç¯®çƒ&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`å–œæ¬¢\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sport</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è§£æ„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">like</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj</span></span></code></pre></div><p>åœ¨ä½¿ç”¨ @babel/preset-env æ—¶ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®š targetsï¼Œé‚£ä¹ˆé»˜è®¤ä¼šå°†ä»£ç å…¼å®¹åˆ°æœ€ä½ç‰ˆæœ¬ï¼Œå°†å…¶æ‰€æœ‰ ES6+ è¯­æ³•è½¬ä¸º ES5ã€‚</p><p>preset.config.js</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> presets</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;@babel/preset-env&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    targets: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&gt; 0.25%, not dead&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {presets};</span></span></code></pre></div><p>è€Œå¦‚æœé€šè¿‡ plugins é€‰é¡¹é…ç½®æ’ä»¶ï¼Œéœ€è¦é…ç½®å¾ˆå¤šä¸ªæ’ä»¶ï¼</p><div class="tip custom-block"><p class="custom-block-title">å‘ç°</p><p><span class="text-red">åªè¦ä¸‹è½½äº† @babel/preset-env ä¾èµ–ï¼Œä¸‹é¢è¿™äº›æ’ä»¶çš„ä¾èµ–éƒ½ä¸ç”¨å®‰è£…ã€‚</span></p><p>åŸå› æ˜¯ @babel/preset-env åŒ…çš„ dependencies å­—æ®µå·²ç»æ·»åŠ äº†è¿™äº›ä¾èµ–ï¼Œåœ¨ä¸‹è½½ preset-envï¼Œä¹Ÿä¼šä¸‹è½½è¿™äº›ä¾èµ–ã€‚</p></div><p>plugins.config.js</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è½¬æ¢ç®­å¤´å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;@babel/plugin-transform-arrow-functions&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å°† letã€const è½¬ä¸º var</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;@babel/plugin-transform-block-scoping&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è½¬æ¢è§£æ„èµ‹å€¼</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;@babel/plugin-transform-destructuring&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¯†åˆ«è§£æ„å‚æ•°ã€é»˜è®¤å‚æ•°ã€å‰©ä½™å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;@babel/plugin-transform-parameters&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¯†åˆ«å±æ€§ç¼©å†™</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;@babel/plugin-transform-shorthand-properties&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¯†åˆ«æ¨¡æ¿å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;@babel/plugin-transform-template-literals&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>ç¼–è¯‘è¿‡åçš„æ–‡ä»¶ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;use strict&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ const</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> people </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xiaowang&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xiaojun&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xiaoming&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å±æ€§ç®€æ´è¡¨ç¤ºæ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  people: people,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  like: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;eat1111&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç®­å¤´å‡½æ•°ï¼Œå‚æ•°é»˜è®¤å€¼ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  play</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> play</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sport </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> arguments</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> arguments</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> arguments</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ç¯®çƒ&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\u559C\\u6B22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">concat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sport));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è§£æ„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> like </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj.like;</span></span></code></pre></div><h3 id="env" tabindex="-1">env <a class="header-anchor" href="#env" aria-label="Permalink to &quot;env&quot;">â€‹</a></h3><p>åé¢ä¼šè®²åˆ°ã€‚env æ ¹æ®ç”¨æˆ·è®¾ç½®çš„ç¯å¢ƒï¼ŒåŠ¨æ€è½¬åŒ–ç›®æ ‡æµè§ˆå™¨ä¸å…¼å®¹çš„è¯­æ³•å’ŒåŠ¨æ€ç”Ÿæˆå«ç‰‡ polyfill APIã€‚</p><h2 id="ææ¡ˆ" tabindex="-1">ææ¡ˆ <a class="header-anchor" href="#ææ¡ˆ" aria-label="Permalink to &quot;ææ¡ˆ&quot;">â€‹</a></h2><p>TC39 ææ¡ˆåˆ†ä¸º 0 1 2 3 4 å…±äº”ä¸ªé˜¶æ®µã€‚</p><ol><li>é˜¶æ®µ 0ï¼ˆstage-0ï¼‰â€”â€”è‰æ ¹ï¼ˆStrawmanï¼‰ï¼šåªæ˜¯ä¸€ä¸ªæƒ³æ³•ï¼Œå¯èƒ½æ˜¯ Babel æ’ä»¶ã€‚</li><li>ç¬¬ä¸€é˜¶æ®µï¼ˆstage-1ï¼‰â€”â€”ææ¡ˆï¼ˆProposalï¼‰ï¼šè¿™æ˜¯å€¼å¾—ç ”ç©¶çš„ã€‚</li><li>ç¬¬äºŒé˜¶æ®µï¼ˆstage-2ï¼‰â€”â€”è‰æ¡ˆï¼ˆDraftï¼‰ï¼šåˆæ­¥è§„èŒƒã€‚</li><li>ç¬¬ä¸‰é˜¶æ®µï¼ˆstage-3ï¼‰â€”â€”å€™é€‰ï¼ˆCandidateï¼‰ï¼šå®Œæ•´çš„è§„èŒƒå’Œæœ€åˆçš„æµè§ˆå™¨å®ç°ã€‚</li><li>ç¬¬å››é˜¶æ®µï¼ˆstage-4ï¼‰â€”â€”å®Œæˆï¼ˆFinishedï¼‰ï¼šå°†è¢«æ·»åŠ åˆ°ä¸‹ä¸€å¹´åº¦çš„ç‰ˆæœ¬ä¸­ã€‚</li></ol><p>å†çœ‹çœ‹å®˜ç½‘ä¸­è¿™æ®µè¯ï¼š</p><div class="tip custom-block"><p class="custom-block-title">å®˜ç½‘åŸè¯</p><p>Note:Â @babel/preset-envÂ won&#39;t include any JavaScript syntax proposals less than Stage 3 because at that stage in the TC39 process, it wouldn&#39;t be implemented by any browsers anyway. Those would need to be included manually.</p></div><div class="tip custom-block"><p class="custom-block-title">æç¤º</p><p>æˆ‘ä»¬å¹³å¸¸è¯´çš„ Babel 6ã€Babel 7 æŒ‡çš„æ˜¯ @babele/core çš„ç‰ˆæœ¬ã€‚</p></div><p>å¤§è‡´æ„æ€æ˜¯ï¼š</p><ol><li>åœ¨ Babel 7 ä»¥åï¼Œ@babel/preset-env èˆå¼ƒäº† Stage presetsï¼ˆ@babel/preset-stage-xï¼‰è¿™ç§é¢„è®¾</li><li>@babel/preset-env åªæä¾› TC39 å¤§äº stage-3 çš„ææ¡ˆï¼ˆå³åªåŒ…å«æœ€åä¸€ä¸ªé˜¶æ®µï¼‰ã€‚å› æ­¤å¦‚æœè¦ç”¨å°äº stage 4 çš„ææ¡ˆè¯­æ³•ï¼Œåˆ™å¿…é¡»å…ˆå®‰è£…å†æ‰‹åŠ¨å¼•å…¥å¯¹åº”æ’ä»¶</li></ol><p>ç¬¬ä¸€ç‚¹æ¯”è¾ƒå¥½ç†è§£ã€‚è¿™é‡Œè¯´è¯´ç¬¬äºŒç‚¹ã€‚å¦‚æœæˆ‘ä»¬æƒ³ç”¨ä¸€äº›å°äº stage-4 é˜¶æ®µçš„è¯­æ³•çš„è¯ï¼Œå…‰å®‰è£… @babel/preset-env è¿™ä¸€ä¸ªåŒ…æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå› ä¸ºè¿™ä¸ªåŒ…é‡ŒåªåŒ…å«ç¼–è¯‘ stage-4 çš„é¢„è®¾ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¾—å®‰è£…å¹¶é…ç½®ç›¸åº”çš„ plugin å»ç¼–è¯‘ã€‚</p><h3 id="do-expressions" tabindex="-1">do-expressions <a class="header-anchor" href="#do-expressions" aria-label="Permalink to &quot;do-expressions&quot;">â€‹</a></h3><p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨å†™è¿™å¥è¯æ—¶ï¼Œæœ‰ä¸€ä¸ªæ–°çš„<a href="https://github.com/tc39/proposal-do-expressions" target="_blank" rel="noreferrer"><strong>è¯­æ³•</strong></a>ï¼š<code>do-expressions</code>ï¼Œè¿˜å¤„äº TC39 çš„ stage-1 é˜¶æ®µã€‚</p><p><img src="https://my-course-public.oss-cn-shanghai.aliyuncs.com/public/img/2023-05-31-06-16-22.png" alt="" loading="lazy"></p><p>æˆ‘ä»¬å†™ä¸€ä¸ª index.js æ–‡ä»¶ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> do {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  let tmp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 123</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  tmp * tmp + </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å¦‚æœç›´æ¥ä½¿ç”¨ä¸‹é¢çš„é…ç½®æ–‡ä»¶ç¼–è¯‘çš„è¯ï¼Œå°†ä¼šæŠ¥é”™ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  presets: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;@babel/preset-env&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div> SyntaxError: C:\\Users\\lukecheng\\Desktop\\code\\course\\docs\\useful\\babel\\babel-test\\test-stage-1\\index.js: <span class="text-red">Support for the experimental syntax &#39;doExpressions&#39; isn&#39;t currently enabled (1:9):</span><blockquote><p>1 | let x = do { | ^ 2 | let tmp = 123 3 | tmp * tmp + 1 4 | }</p></blockquote></div><p><img src="https://my-course-public.oss-cn-shanghai.aliyuncs.com/public/img/2023-05-31-06-47-21.png" alt="" loading="lazy"></p><p>è§£å†³æ–¹æ³•ï¼Œä¸‹è½½ä¾èµ– <code>@babel/plugin-proposal-do-expressions</code>ï¼Œç„¶ååœ¨ babel é…ç½®æ–‡ä»¶ä¸­çš„ plugins ä¸­å£°æ˜ã€‚</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @babel/plugin-proposal-do-expressions</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  presets: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // &#39;@babel/preset-env&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;@babel/plugin-proposal-do-expressions&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å†æ¬¡æ‰§è¡Œæ‰“åŒ…è„šæœ¬ï¼Œå‘ç°<strong>ç¼–è¯‘æˆåŠŸ</strong>ï¼index.js å˜ä¸ºäº† compiled.jsã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tmp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tmp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tmp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}();</span></span></code></pre></div><h2 id="æŸ¥çœ‹é¢„è®¾æœ‰å“ªäº›æ’ä»¶" tabindex="-1">æŸ¥çœ‹é¢„è®¾æœ‰å“ªäº›æ’ä»¶ <a class="header-anchor" href="#æŸ¥çœ‹é¢„è®¾æœ‰å“ªäº›æ’ä»¶" aria-label="Permalink to &quot;æŸ¥çœ‹é¢„è®¾æœ‰å“ªäº›æ’ä»¶&quot;">â€‹</a></h2><p>åœ¨ node_modules ä¸‹ @babel/preset-env åŒ…çš„ package.json çš„ <strong>dependencies</strong> å­—æ®µä¸­æŸ¥çœ‹ã€‚</p><p>æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨ä¸‹è½½ @babel/preset-env åŒ…çš„æ—¶å€™ï¼Œä¹Ÿä¼šä¸‹è½½ dependencies å­—æ®µä¸‹å£°æ˜çš„åŒ…ã€‚</p><p>è¿™ä¹Ÿå°±æ˜¯å‰æ–‡ä¸­æåˆ°çš„ï¼Œå…‰ä¸‹è½½ä¸€ä¸ª @babel/preset-env ä¾èµ–ï¼Œå°±å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­çš„ plugins å­—æ®µä¸­æ·»åŠ æ’ä»¶ï¼Œä½†æ˜¯å´ä¸ç”¨ä¸“é—¨ä¸‹è½½æ’ä»¶çš„ä¾èµ–ã€‚</p><h2 id="polyfill-å«ç‰‡" tabindex="-1">polyfill å«ç‰‡ <a class="header-anchor" href="#polyfill-å«ç‰‡" aria-label="Permalink to &quot;polyfill å«ç‰‡&quot;">â€‹</a></h2><h3 id="åŠŸèƒ½" tabindex="-1">åŠŸèƒ½ <a class="header-anchor" href="#åŠŸèƒ½" aria-label="Permalink to &quot;åŠŸèƒ½&quot;">â€‹</a></h3><p>ES6+ é™¤äº†æä¾›å¾ˆå¤šç®€æ´çš„è¯­æ³•ï¼ˆletã€classã€() =&gt; {} ç­‰ï¼‰å¤–ï¼Œè¿˜ä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šä¾¿æ·çš„ APIï¼ˆPromiseã€Symbolã€Array.prototype.includes ç­‰ï¼‰ã€‚ä½†æ—§ç‰ˆæœ¬æµè§ˆå™¨æ˜¯ä¸æ”¯æŒè¿™äº› API çš„ï¼Œè€Œ polyfill å­˜æ”¾äº†è¿™äº› API çš„æ–¹æ³•ä¸å®ç°ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ä½¿å¾—è¿™äº›ä¸æ”¯æŒçš„æµè§ˆå™¨æ”¯æŒè¿™äº› APIã€‚</p><h3 id="ç†è§£" tabindex="-1">ç†è§£ <a class="header-anchor" href="#ç†è§£" aria-label="Permalink to &quot;ç†è§£&quot;">â€‹</a></h3><p>æˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰è¿™ç§å­˜æ”¾äº† ES6+ API çš„æ–¹æ³•ä¸å®ç°çš„é›†åˆå«åš polyfillï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸è¯´çš„å«ç‰‡ã€‚ï¼ˆå¦‚æœæŠŠæˆ‘ä»¬çš„æ—§ç‰ˆæœ¬æµè§ˆå™¨ç¼ºå¤±çš„ API å½“åšä¸€ä¸ªä¸ªå‘ï¼Œpolyfill å°±æ˜¯ç”¨æ¥æŠŠè¿™äº›å‘å¡«å¹³ï¼‰</p><p>polyfill ä¹Ÿåˆ†ç§ç±»ï¼Œæœ‰äº› polyfill åŒ…å«æ‰€æœ‰æµè§ˆå™¨ç¼ºå¤±çš„ APIï¼Œæœ‰äº› polyfill åªåŒ…å«æµè§ˆå™¨ç¼ºå¤±çš„ API çš„ä¸€ä¸ªï¼Œä¾‹å¦‚ <a href="https://github.com/taylorhakes/promise-polyfill" target="_blank" rel="noreferrer">promise-polyfill</a>ï¼Œ<a href="https://github.com/GoogleChrome/proxy-polyfills" target="_blank" rel="noreferrer">proxy-polyfill</a>ã€‚</p><h2 id="babel-polyfill" tabindex="-1">@babel/polyfill <a class="header-anchor" href="#babel-polyfill" aria-label="Permalink to &quot;@babel/polyfill&quot;">â€‹</a></h2><p>è¿™ä¸ªåŒ…å·²ç»ä¸å†ç»´æŠ¤ã€‚</p><div class="tip custom-block"><p class="custom-block-title">ä¸ºä»€ä¹ˆä¸å†ç»´æŠ¤ï¼Ÿï¼ˆæ¥è‡ª GPTï¼‰</p><p>è‡ªä» Babel 7.4.0 ç‰ˆæœ¬èµ·ï¼Œå®˜æ–¹æ¨èä½¿ç”¨ &quot;core-js/stable&quot; å’Œ &quot;regenerator-runtime/runtime&quot; æ¥æ›¿ä»£ &quot;@babel/polyfill&quot;ã€‚</p><p>ä»¥å‰ï¼Œ&quot;@babel/polyfill&quot; ç”¨äºåœ¨æ—§ç‰ˆæµè§ˆå™¨ä¸­æä¾›ç¼ºå¤±çš„ JavaScript åŠŸèƒ½å’Œ API çš„å«ç‰‡ï¼ˆpolyfillsï¼‰ã€‚å®ƒä¼šå°†è¿™äº›å«ç‰‡æ·»åŠ åˆ°å…¨å±€å¯¹è±¡ä¸­ï¼Œä»¥ä¾¿åœ¨ä¸æ”¯æŒè¿™äº›åŠŸèƒ½çš„æµè§ˆå™¨ä¸­è¿è¡Œæ–°çš„ JavaScript ä»£ç ã€‚ç„¶è€Œï¼Œè¿™ç§å…¨å±€æ±¡æŸ“çš„æ–¹æ³•åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šå¼•å‘ä¸€äº›é—®é¢˜ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒBabel æ¨èä½¿ç”¨æ›´ä¸ºç»†ç²’åº¦çš„ polyfill å¼•å…¥æ–¹å¼ã€‚&quot;core-js/stable&quot; ç”¨äºå¼•å…¥ ES åŠŸèƒ½çš„å«ç‰‡ï¼Œè€Œ &quot;regenerator-runtime/runtime&quot; ç”¨äºå¼•å…¥ Generator å‡½æ•°å’Œ Async/Await çš„å«ç‰‡ã€‚è¿™ç§æ–¹å¼å…è®¸å¼€å‘è€…é€‰æ‹©éœ€è¦çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å¼•å…¥æ•´ä¸ª polyfill åŒ…ã€‚</p><p>å› æ­¤ï¼Œå°½ç®¡ &quot;@babel/polyfill&quot; æ²¡æœ‰è¢«åºŸå¼ƒï¼Œä½†å®˜æ–¹æ¨èä½¿ç”¨æ›´ç»†ç²’åº¦çš„ polyfill å¼•å…¥æ–¹å¼ï¼Œä»¥å‡å°‘å¯¹å…¨å±€å¯¹è±¡çš„å½±å“ï¼Œå¹¶æé«˜ä»£ç çš„å¯é æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p></div><p>è™½ç„¶åºŸå¼ƒï¼Œä½†è¿˜æœ‰æœ‰å¿…è¦äº†è§£ã€‚</p><p>å› ä¸ºå¾ˆå¤šé¡¹ç›®è¿˜åœ¨ç”¨å®ƒæ¥ç»™è€æµè§ˆå™¨æä¾› ES6+ APIã€‚</p><div class="tip custom-block"><p class="custom-block-title">å®˜ç½‘è§£é‡Š</p><p>ğŸš¨ ä» Babel 7.4.0 å¼€å§‹ï¼Œè¿™ä¸ªåŒ…å·²ç»è¢«å¼ƒç”¨ï¼Œè½¬è€Œç›´æ¥åŒ…å« core-js/stableï¼ˆç”¨äº polyfill ECMAScript åŠŸèƒ½ï¼‰</p><p>ä½¿ç”¨ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;core-js/stable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div></div><p>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è®¤è¯† @babel/polyfillã€‚åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œåªä¸‹è½½ @babel/polyfill è¿™ä¸ªåŒ…ã€‚</p><p>çœ‹çœ‹ @babel/polyfill çš„ä¾èµ–ï¼Œå‘ç°åªæœ‰ä¸¤ä¸ªï¼š<code>core-js</code> å’Œ <code>regenerator-runtime</code>ã€‚å¹¶ä¸” <code>core-js</code> çš„ç‰ˆæœ¬ä¸º 2.6.5ã€‚ <img src="https://my-course-public.oss-cn-shanghai.aliyuncs.com/public/img/2023-05-31-07-23-37.png" alt="" loading="lazy"></p><h2 id="core-js-2-ä½œç”¨" tabindex="-1">core-js@2 ä½œç”¨ <a class="header-anchor" href="#core-js-2-ä½œç”¨" aria-label="Permalink to &quot;core-js@2 ä½œç”¨&quot;">â€‹</a></h2><p>å®ƒé‡Œé¢å­˜æ”¾äº†å®ç° ES6+ API çš„å®ç°æ–¹æ³•ã€‚</p><h2 id="regenerator-runtime" tabindex="-1">regenerator-runtime <a class="header-anchor" href="#regenerator-runtime" aria-label="Permalink to &quot;regenerator-runtime&quot;">â€‹</a></h2><p>å®ƒçš„ä½œç”¨æ˜¯ç¼–è¯‘æˆ‘ä»¬ä»£ç é‡Œä½¿ç”¨åˆ°çš„ async å‡½æ•°å’Œ generator å‡½æ•°ã€‚</p><h2 id="core-js" tabindex="-1">core-js <a class="header-anchor" href="#core-js" aria-label="Permalink to &quot;core-js&quot;">â€‹</a></h2><p>æˆ‘ä»¬ä½¿ç”¨ @babel/polyfillï¼Œç›¸å½“äºå¼•å…¥äº† core-js@2 å’Œ regenerator-runtimeã€‚</p><p>babel@7.18.0 åï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¼•å…¥ <code>core-js/stable</code>ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;core-js/stable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><div class="danger custom-block"><p class="custom-block-title">æé†’</p><p>If you are compiling generators or async function to ES5, and you are using a version ofÂ @babel/coreÂ orÂ @babel/plugin-transform-regeneratorÂ older thanÂ 7.18.0, you must also load theÂ regenerator-runtimeÂ package</p><p>å¦‚æœä½ æ­£æ‰“ç®—æŠŠ generator å‡½æ•°æˆ– async å‡½æ•°ç¼–è¯‘ä¸º ES5ï¼Œå¹¶ä¸”ä½ ä½¿ç”¨çš„ @babel/helpers ç‰ˆæœ¬å°äº 7.18.0 æˆ–è€…ä½ ä½¿ç”¨çš„ @babel/plugin-transform-regenerator ç‰ˆæœ¬å°äº 7.18.0ï¼Œä½ å¿…é¡»åœ¨å…¥å£æ–‡ä»¶ä¸­å¼•å…¥ <a href="https://github.com/facebook/regenerator/tree/main/packages/runtime" target="_blank" rel="noreferrer">regeneraor-runtime</a> åŒ…ã€‚</p><p>@babel/helpers æˆ– @babel/plugin-transform-regenerator ç‰ˆæœ¬å°äº 7.18.0ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;core-js/stable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;regenerator-runtime/runtime.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div></div><p><strong>æˆ‘ä»¬å®é™…ä¸¾ä¸ªä¾‹å­ï¼</strong></p><h3 id="ä¸¤ä¸ªåŒ…çš„ç‰ˆæœ¬éƒ½å°äº-7-18-0" tabindex="-1">ä¸¤ä¸ªåŒ…çš„ç‰ˆæœ¬éƒ½å°äº 7.18.0 <a class="header-anchor" href="#ä¸¤ä¸ªåŒ…çš„ç‰ˆæœ¬éƒ½å°äº-7-18-0" aria-label="Permalink to &quot;ä¸¤ä¸ªåŒ…çš„ç‰ˆæœ¬éƒ½å°äº 7.18.0&quot;">â€‹</a></h3><blockquote><p>ä¸ä¼šå†…è” generator è¾…åŠ©å‡½æ•°</p></blockquote><p>åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œåªä¸‹è½½ä¸‹é¢è¿™äº›åŒ…ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark has-focused-lines vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;import-regenerator-runtime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;compile&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;babel index.js -o compiled.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;devDependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/cli&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^7.20.7&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line has-focus"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/core&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;7.16.7&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ³¨æ„è¿™é‡Œç‰ˆæœ¬å°äº 7.18.0 //</span></span>
<span class="line has-focus"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/plugin-transform-regenerator&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;7.16.7&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // æ³¨æ„è¿™é‡Œç‰ˆæœ¬å°äº 7.18.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><img src="https://my-course-public.oss-cn-shanghai.aliyuncs.com/public/img/2023-06-01-11-06-48.png" alt="" loading="lazy"></p><p><img src="https://my-course-public.oss-cn-shanghai.aliyuncs.com/public/img/2023-06-01-11-07-20.png" alt="" loading="lazy"> ç„¶åé…ç½® babel.config.js</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;@babel/plugin-transform-regenerator&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ç¼–è¯‘ index.jsï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span></span>
<span class="line diff remove"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line diff remove"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line diff remove"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hello, babel regenerator runtime&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line diff remove"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line diff remove"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> regeneratorRuntime.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">_context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (_context.prev </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _context.next) {</span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      case</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        _context.next </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> regeneratorRuntime.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">awrap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hello, babel regenerator runtime&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }));</span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      case</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;end&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _context.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line diff add"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å¯ä»¥çœ‹åˆ°è¢«ç¼–è¯‘åçš„æ–‡ä»¶å‡ºç°äº†ä¸€ä¸ª <strong>regeneratorRuntime</strong> å˜é‡ï¼Œä½†æ˜¯è¿™ä¸ªå˜é‡å¹¶æ²¡æœ‰è¢«å£°æ˜ã€‚æ‰€ä»¥å¦‚æœæ‰§è¡Œè¿™æ®µä»£ç è‚¯å®šä¼šæŠ¥é”™ã€‚</p><h3 id="babel-core-ç‰ˆæœ¬å°äº-7-18-0-babel-plugin-transform-regenerator-ç‰ˆæœ¬å¤§äº-7-18-0" tabindex="-1">@babel/core ç‰ˆæœ¬å°äº 7.18.0ï¼Œ@babel/plugin-transform-regenerator ç‰ˆæœ¬å¤§äº 7.18.0 <a class="header-anchor" href="#babel-core-ç‰ˆæœ¬å°äº-7-18-0-babel-plugin-transform-regenerator-ç‰ˆæœ¬å¤§äº-7-18-0" aria-label="Permalink to &quot;@babel/core ç‰ˆæœ¬å°äº 7.18.0ï¼Œ@babel/plugin-transform-regenerator ç‰ˆæœ¬å¤§äº 7.18.0&quot;">â€‹</a></h3><blockquote><p>ä¼šå†…è” generator è¾…åŠ©å‡½æ•°</p></blockquote><p><img src="https://my-course-public.oss-cn-shanghai.aliyuncs.com/public/img/2023-06-01-11-10-55.png" alt="" loading="lazy"></p><p><img src="https://my-course-public.oss-cn-shanghai.aliyuncs.com/public/img/2023-06-01-11-11-27.png" alt="" loading="lazy"></p><p>ç¼–è¯‘åï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _regeneratorRuntime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;use strict&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç•¥ ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _regeneratorRuntime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">_context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (_context.prev </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _context.next) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      case</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        _context.next </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _regeneratorRuntime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">awrap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hello, babel regenerator runtime&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      case</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;end&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _context.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ç¼–è¯‘åå‘ç° regeneratorRuntime æ›¿æ¢ä¸ºäº†ä¸€ä¸ª å†…è”çš„ _regeneratorRuntime() å‡½æ•°ã€‚</p><p>å¦‚æœç”¨ node æ‰§è¡Œè¿™ä¸ª js æ–‡ä»¶ï¼Œ1 ç§’åä¼šçœ‹åˆ°æ§åˆ¶å°è¾“å‡º <code>hello, babel regenerator runtime</code>ã€‚</p><h3 id="babel-core-ç‰ˆæœ¬å¤§äº-7-18-0-babel-plugin-transform-regenerator-ç‰ˆæœ¬å°äº-7-18-0" tabindex="-1">@babel/core ç‰ˆæœ¬å¤§äº 7.18.0ï¼Œ@babel/plugin-transform-regenerator ç‰ˆæœ¬å°äº 7.18.0 <a class="header-anchor" href="#babel-core-ç‰ˆæœ¬å¤§äº-7-18-0-babel-plugin-transform-regenerator-ç‰ˆæœ¬å°äº-7-18-0" aria-label="Permalink to &quot;@babel/core ç‰ˆæœ¬å¤§äº 7.18.0ï¼Œ@babel/plugin-transform-regenerator ç‰ˆæœ¬å°äº 7.18.0&quot;">â€‹</a></h3><blockquote><p>ä¸ä¼šå†…è” generator è¾…åŠ©å‡½æ•°</p></blockquote><p>æœªå¼•å…¥ generator å†…è”è¾…åŠ©å‡½æ•°ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> regeneratorRuntime.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">_context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (_context.prev </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _context.next) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      case</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        _context.next </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> regeneratorRuntime.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">awrap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hello, babel regenerator runtime&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      case</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;end&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _context.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;æ€»ç»“&quot;">â€‹</a></h3><p>ä¼šä¸ä¼šç”Ÿäº§ generator å‡½æ•°ï¼Œå–å†³äº @babel/plugin-transform-regenerator æ’ä»¶çš„ç‰ˆæœ¬ã€‚è€Œä¸ @babel/core çš„ç‰ˆæœ¬æ— å…³ã€‚</p><p>transform-regenerator ç‰ˆæœ¬ä½äº 7.18.0 ä¸ä¼šç”Ÿäº§ generator è¾…åŠ©å‡½æ•°ï¼Œé«˜äºç­‰äº 7.18.0 ä¼šç”Ÿæˆè¾…åŠ©å†…è”å‡½æ•°ã€‚</p><p>æˆ‘è®¤ä¸ºå®˜æ–¹æ–‡æ¡£åœ¨è¿™é‡Œå†™é”™äº†ï¼Œæˆ‘å·²ç»æäº¤äº† PR ä¿®æ”¹è¿™å¤„é”™è¯¯ï¼Œç­‰å¾…å®˜æ–¹åˆå¹¶ã€‚</p><h2 id="babel-runtime" tabindex="-1">@babel/runtime <a class="header-anchor" href="#babel-runtime" aria-label="Permalink to &quot;@babel/runtime&quot;">â€‹</a></h2><p>åœ¨ Babel ç¼–è¯‘çš„æ—¶å€™ï¼Œä¼šç”Ÿæˆä¸€äº›è¾…åŠ©å‡½æ•°ã€‚</p><p>@babel/runtime é‡Œé¢å­˜æ”¾ç€è¿™äº›è¾…åŠ©å‡½æ•°ã€‚</p><p>æ¯”å¦‚æˆ‘å†™è¿™æ ·ä¸€ä¸ªæ–‡ä»¶ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> People</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> person</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Person</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>ç»è¿‡ babel ç¼–è¯‘åå°±ä¼šç”Ÿæˆå¾ˆå¤šå†…è”çš„è¾…åŠ©å‡½æ•°ã€‚</p><p>ä½†å…¶å®è¿™äº›å†…è”è¾…åŠ©å‡½æ•°éƒ½å¯ä»¥åœ¨ @babel/runtime è¿™ä¸ªåŒ…é‡Œé¢æ‰¾åˆ°ã€‚</p><h2 id="babel-plugin-transform-runtime" tabindex="-1">@babel/plugin-transform-runtime <a class="header-anchor" href="#babel-plugin-transform-runtime" aria-label="Permalink to &quot;@babel/plugin-transform-runtime&quot;">â€‹</a></h2><p>@babel/runtime é‡Œåªæ˜¯å®šä¹‰å®ç°äº†è¿™äº›è¾…åŠ©å‡½æ•°ï¼Œä½†æ€ä¹ˆè®©è¾…åŠ©å‡½æ•°ä»å†…è”çš„å½¢å¼å˜ä¸ºä» @babel/runtime é‡Œå¼•å…¥çš„å½¢å¼å‘¢ï¼Ÿ</p><p>å¯ä»¥ä½¿ç”¨æ’ä»¶ @babel/plugin-transform-runtimeã€‚</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>åªä½¿ç”¨æ’ä»¶ @babel/plugin-transform-runtimeï¼Œä¼šå°†è¾…åŠ©å‡½æ•°ä» @babel/runtime å¼•å…¥ã€‚è¿™æ—¶æ‰§è¡Œç¼–è¯‘åçš„ä»£ç ï¼Œä¼šæŠ¥é”™ã€‚åªéœ€è¦å†ä¸‹è½½ä¾èµ–åŒ… @babel/runtime å³å¯ã€‚</p><p>@babel/plugin-transform-runtime çš„ devDependencies å¦‚ä¸‹ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;devDependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/core&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace:^&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/helper-plugin-test-runner&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace:^&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/helpers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace:^&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/preset-env&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace:^&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/runtime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace:^&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/runtime-corejs3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace:^&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/template&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace:^&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@babel/types&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace:^&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;make-dir&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;condition:BABEL_8_BREAKING ? : ^2.1.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span></code></pre></div></div>`,114),p=[e];function t(h,k,r,E,d,g){return a(),i("div",null,p)}const y=s(l,[["render",t]]);export{c as __pageData,y as default};
